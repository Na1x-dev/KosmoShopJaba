<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Library</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700" rel="stylesheet"
          th:href="@{https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700}"
          th:rel="stylesheet">
</head>

<div class="container" th:fragment="container">
    <form class="form-log-in" method="POST" th:action="@{/logInPage/index}">
        <div class="form-heading">Вход <div id="current_date_time_block"></div></div>

        <div class="form-group">

            <input name="username" id="username-field" type="text" class="form-control" placeholder="Username"
                   th:placeholder="'Имя пользователя'"
                   autofocus="true" required="required"/>

            <input name="password" id="password-field" type="password" class="form-control" placeholder="Password"
                   th:placeholder="'Пароль'" required="required"/>

            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>

            <button id="log-in-button" class="btn btn-lg btn-primary btn-block" type="submit"
                    th:text="'Войти'">Log In
            </button>
        </div>
    </form>
    <span class="has-error" th:text="${error}">Неправильный логин и(или) пароль</span>
    <script>
<!--        let usernameField = document.getElementById('username-field');-->
<!--        let passwordField = document.getElementById('password-field');-->
<!--        let logInButton = document.getElementById('log-in-button');-->
<!--        usernameField.value += 'admin';-->
<!--        passwordField.value += 'admin';-->
<!--        logInButton.click();-->
    </script>

    <script type="text/javascript">

    /* функция добавления ведущих нулей */
    /* (если число меньше десяти, перед числом добавляем ноль) */
    function zero_first_format(value)
    {
        if (value < 10)
        {
            value='0'+value;
        }
        return value;
    }

    /* функция получения текущей даты и времени */
    function date_time()
    {
        var current_datetime = new Date();
        var day = zero_first_format(current_datetime.getDate());
        var month = zero_first_format(current_datetime.getMonth()+1);
        var year = current_datetime.getFullYear();
        var hours = zero_first_format(current_datetime.getHours());
        var minutes = zero_first_format(current_datetime.getMinutes());
        var seconds = zero_first_format(current_datetime.getSeconds());

        return day+"."+month+"."+year+" "+hours+":"+minutes+":"+seconds;
    }

    /* выводим текущую дату и время на сайт в блок с id "current_date_time_block" */
    document.getElementById('current_date_time_block').innerHTML = date_time();
    </script>

    <script type="text/javascript">
    /* каждую секунду получаем текущую дату и время */
    /* и вставляем значение в блок с id "current_date_time_block2" */
    setInterval(function () {
        document.getElementById('current_date_time_block').innerHTML = date_time();
    }, 1000);
    </script>


</div>
